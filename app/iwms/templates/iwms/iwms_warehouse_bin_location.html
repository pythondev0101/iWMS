<!-- Kinopy na natin buong admin base html kasi kailangan nating palitan mga source -->
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>{{ title }}</title>
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" /> -->
    <meta name="description" content="This is an example dashboard created using build-in elements and components.">
    <meta name="msapplication-tap-highlight" content="no">
    <!--
    =========================================================
    * ArchitectUI HTML Theme Dashboard - v1.0.0
    =========================================================
    * Product Page: https://dashboardpack.com
    * Copyright 2019 DashboardPack (https://dashboardpack.com)
    * Licensed under MIT (https://github.com/DashboardPack/architectui-html-theme-free/blob/master/LICENSE)
    =========================================================
    * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    -->
    <link href="{{ url_for('static', filename='css/lib/main.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/homebest.css') }}" rel="stylesheet">
    <!-- <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}"> -->
    <!-- <link href="{{ url_for('static', filename='DataTables/datatables.css') }}" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script>
    <script src="https://unpkg.com/konva@7.0.3/konva.min.js"></script>
    <style>
        body {
          margin: 0;
          padding: 0;
          overflow: auto;
          background-color: #f0f0f0;
        }
      </style>
</head>
<body>
    <div class="app-container app-theme-white body-tabs-shadow fixed-header">
        <!-- ADMIN HEADER -->
        {% block header %}
        {% include 'admin/admin_header.html' %}
        {% endblock %}

        <!-- ADMIN OPTIONS -->
        {% block options %}
        {% include 'admin/admin_options.html' %}
        {% endblock %}

        <div class="app-main">

        {% block sidebar %}
        {% include 'iwms/iwms_sidebar.html' %}
        {% endblock %}

            <div class="app-main__outer">
                <!-- CONTENT BLOCK -->


                {% block content %}
                <div class="app-main__inner">
                    <div id="container"></div>
                </div>
                {% endblock %}
                <!-- INCLUDE FOOTER HERE -->
            </div>
        </div>
    </div>
<script type="text/javascript" src="{{ url_for('static', filename='js/lib/main.js') }}"></script>
    {% block scripts %}
    <script>

    var width = 3000;
    var height = 3000;

    var stage = new Konva.Stage({
        container: 'container',
        width: width,
        height: height,
      });

    var layer = new Konva.Layer();

    var rectangle = new Konva.Group({
        x: 25, 
        y: 25, 
        width: 100,
        height: 50,
        draggable: true,
        dragBoundFunc: function (pos) {
            var newY = pos.y < 0 ? 0 : pos.y;
            var newX = pos.x < 0 ? 0 : pos.x;
            return {
              x: newX,
              y: newY,
            };
          },
        });
    var box = new Konva.Rect({
        x: 25,
        y: 25,
        width: 100,
        height: 50,
        fill: '#ed9e37',
        stroke: 'black',
        strokeWidth: 1,
    });
    var minibox = new Konva.Rect({
        x: 113,
        y: 63,
        width: 10,
        height: 10,
        fill: '#00D2FF',
    });
    rectangle.add(box);
    rectangle.add(minibox);
    rectangle.add(new Konva.Text({
        x:25,
        y:25,
        text:'A1',
        fontSize: 18,
        fontFamily: 'Calibri',
        fill: '#000',
        width: 100,
        height: 50,
        padding: 5,
        align: 'center'
    }));
      // add cursor styling
      rectangle.on('mouseover', function () {
        document.body.style.cursor = 'pointer';
      });
      rectangle.on('mouseout', function () {
        document.body.style.cursor = 'default';
      });
      rectangle.on('dblclick',function(){
        if (minibox.fill() == "#00D2FF"){
            minibox.fill("#ed3737");
            rectangle.draggable(false);
            layer.draw();
        }else{
            minibox.fill("#00D2FF");
            rectangle.draggable(true);
            layer.draw();
        }
      });
      layer.add(rectangle);
      stage.add(layer);
    </script>
    {% endblock %}

</body>
</html>

